<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>AI_dentity</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="build/botui.min.css" />
    <link rel="stylesheet" href="build/botui-theme-default.css" />
</head>

<body>

    <div class="botui-app-container" id="conversation1">
        <bot-ui></bot-ui>
    </div>

    <script src="https://cdn.jsdelivr.net/vue/latest/vue.min.js"></script>
    <script src="build/botui.min.js"></script>

    <script>
        var botui = new BotUI('conversation1');

        botui.message.add({
            content: 'Hi David!'
        }).then(function () {
            botui.action.button({
                action: [
                    {
                        text: 'Uh... ',
                        value: 'uh'
                    },
                    {
                        text: 'Hello?',
                        value: 'hello'
                    }
                ]
            }).then(function (res) {
                if (res.value == 'hello') {
                    convostart.hellofol();
                }
                if (res.value == 'uh') {
                    convostart.uhfol();
                }
            });
        });

        var convostart = {
            hellofol: function () {
                botui.message.add({
                    content: 'Whats your name?',
                    delay: 500
                }).then(function () {
                    return botui.action.text({
                        action: {
                            placeholder: 'Your name'
                        }
                    });
                }).then(function () {
                    botui.message.add({
                        human: true,
                        content: 'What is yours?',
                        delay: 500
                    });
                }).then(function (res) {
                    botui.message.add({
                        content: 'Hi',
                        delay: 1000
                    });

                    botui.message.add({
                        content: 'My name is Francis',
                        delay: 1500
                    });

                    botui.message.add({
                        content: 'How are you doing today?',
                        delay: 1700
                    });
                }).then(function () {
                    convostart.howdoing();
                })
            },

            uhfol: function () {
                botui.message.add({
                    human: true,
                    content: 'My name is',
                    delay: 500
                }).then(function () {
                    return botui.action.text({
                        action: {
                            placeholder: 'Your name'
                        }
                    });
                }).then(function () {
                    botui.message.add({
                        content: 'Oh...',
                        delay: 500
                    });

                    botui.message.add({
                        content: 'My name is Francis',
                        delay: 1000
                    });

                    botui.message.add({
                        content: 'How are you doing today?',
                        delay: 1700
                    });
                }).then(function () {
                    convostart.howdoing();
                })
            },

            howdoing: function () {
                botui.action.button({
                    delay: 2000,
                    action: [
                        {
                            text: 'I am doing fine..',
                            value: 'fine'
                        },
                        {
                            text: 'I feel great today!',
                            value: 'great'
                        }
                    ]
                }).then(function (res) {
                    if (res.value == 'great') {
                        howgoingchoice.goingchoicefollowup();
                    }
                    if (res.value == 'fine') {
                        howgoingchoice.goingchoicefollowup();
                    }
                })
            }
        }

        var howgoingchoice = {
            goingchoicefollowup: function () {
                botui.message.add({
                    human: true,
                    content: 'But... who exactly are you?',
                    delay: 500,
                })

                botui.message.add({
                    content: 'I already told you',
                    delay: 1000,
                })
                botui.message.add({
                    content: 'I am Francis',
                    delay: 1000,
                })

                botui.action.button({
                    delay: 1200,
                    action: [
                        {
                            text: 'That really is not helpful',
                            value: 'nothelp'
                        },
                        {
                            text: 'Okay... and what do you do?',
                            value: 'whatdo'
                        }
                    ]
                }).then(function (res) {
                    if (res.value == 'nothelp') {
                        howgoingchoice.nothelp();
                    }
                    if (res.value == 'whatdo') {
                        howgoingchoice.talktopeople();
                    }
                })
            },

            nothelp: function () {
                botui.message.add({
                    human: true,
                    content: 'What do you do?',
                    delay: 1000,
                }).then(function () {
                    howgoingchoice.talktopeople();
                })
            },

            talktopeople: function () {
                botui.message.add({
                    content: 'I talk to people',
                    delay: 1000,
                })

                botui.message.add({
                    content: 'What do you do?',
                    delay: 1200,
                })

                botui.action.button({
                    delay: 1200,
                    action: [
                        {
                            text: 'I work in IT, I program surgery machines',
                            value: 'workit'
                        },
                        {
                            text: 'I like to code and play games...',
                            value: 'codegames'
                        }
                    ]
                }).then(function (res) {
                    if (res.value == 'nothelp') {
                        howgoingchoice.nothelp();
                    }
                    if (res.value == 'whatdo') {
                        howgoingchoice.talktopeople();
                    }
                })
            }
        }

    </script>

</body>

</html>